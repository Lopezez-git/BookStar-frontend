<main>
  <div class="perfil-container">
    <div class="perfil-card">

      <!-- LADO ESQUERDO -->
      <div class="perfil-left">
        <div class="foto-wrapper">
          <img [src]="perfilImagem || 'assets/default-avatar.png'" alt="">
        </div>

        <h2 class="nome-user">{{ nomeUsuario }}</h2>
        <p class="seguidores">
          Seguidores: {{ seguidores }} / Seguindo {{ seguindo }}
        </p>
      </div>

      <!-- LADO DIREITO -->
      <div class="perfil-right">

        <!-- ABAS -->
        <div class="abas">
          <button 
            [class.ativo]="abaAtiva === 'livrosLidos'"
            (click)="mudarAba('livrosLidos')">
            Livros Lidos
          </button>

          <button 
            [class.ativo]="abaAtiva === 'queroLer'"
            (click)="mudarAba('queroLer')">
            Quero ler
          </button>

          <button 
            [class.ativo]="abaAtiva === 'estouLendo'"
            (click)="mudarAba('estouLendo')">
            Estou lendo
          </button>

          <button 
            [class.ativo]="abaAtiva === 'reviews'"
            (click)="mudarAba('reviews')">
            Reviews
          </button>
        </div>

        <!-- LISTA LIVROS -->
        <div class="lista-livros">

          <div class="livro" *ngFor="let livro of livrosFiltrados">
            <img [src]="livro.capa" [alt]="livro.titulo">

            <div class="info-livro">
              <h3>{{ livro.titulo }}</h3>

              <div class="stars">
                <span 
                  *ngFor="let star of [1,2,3,4,5]"
                  [class.filled]="star <= livro.avaliacao">
                  â˜…
                </span>
              </div>
            </div>
          </div>

          <div class="no-books" *ngIf="livrosFiltrados.length === 0">
            <p>Nenhum livro encontrado nesta categoria.</p>
          </div>

        </div>

      </div>
    </div>
  </div>
</main>
